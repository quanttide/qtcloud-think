# Meta 模块设计 (v0.0.2)

## 功能定义

Meta 模块的核心能力：**观察思考云自身，提出对系统的改进建议**

这意味着：
- 对系统的运行效果进行分析
- 识别系统问题、改进空间、用户体验痛点
- 为开发者提供建设性的优化建议

---

## 核心流程

```
用户输入 → 澄清处理 → 存储 → Meta 自省 → 输出系统改进建议
```

---

## 设计要点

| 需求项 | 决策 |
|--------|------|
| 触发方式 | 每次澄清完成后自动触发 |
| 分析维度 | 澄清效果、用户意图理解准确度、响应质量 |
| 输出格式 | 结构化建议，输出到系统日志或独立文件 |
| 存储路径 | `data/cli/meta/{date}.md` |
| 存储方式 | 独立 meta 日志文件 |

---

## 需要收集的数据维度

| 数据维度 | 具体指标 | 异常信号 |
|---------|---------|---------|
| 对话效率 | 轮次、耗时 | 轮次 > 5 或耗时过长 |
| 意图理解 | 首轮是否抓住核心 | 多轮后意图仍偏移 |
| 澄清结果 | 是否成功存储 | 多次失败 |
| 用户反馈 | 满意度/放弃 | 用户中断 |
| 成本 | API 调用次数 | 单次成本过高 |
| 错误 | 异常类型/频率 | 错误率上升 |

---

## 输出示例

```markdown
---
date: 2026-02-18
session_id: xxx
---

# Meta 自省报告

## 整体评估
- 澄清轮次: 3 (正常)
- 意图理解: 准确
- 耗时: 45s (正常)

## 改进建议
1. 首轮意图识别可以优化，建议增加 xxx prompt
2. 用户在第2轮中断，可能是追问方式不够友好
```
